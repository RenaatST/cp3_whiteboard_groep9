!function e(o,t,n){function s(l,d){if(!t[l]){if(!o[l]){var r="function"==typeof require&&require;if(!d&&r)return r(l,!0);if(i)return i(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var a=t[l]={exports:{}};o[l][0].call(a.exports,function(e){var t=o[l][1][e];return s(t?t:e)},a,a.exports,e,o,t,n)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(e){!function(){function o(){new t}var t=e("./classes/WhiteboardApplication");o()}()},{"./classes/WhiteboardApplication":2}],2:[function(e,o){o.exports=function(){function o(){$("#addimg").on("click",function(){var e=new n(Math.random()*window.innerWidth,Math.random()*window.innerHeight);document.getElementById("cnvszelf").appendChild(e.el)}),$("#addvideo").on("click",function(){var e=new s(Math.random()*window.innerWidth,Math.random()*window.innerHeight);document.getElementById("cnvszelf").appendChild(e.el)}),$("#addnote").on("click",function(){var e=new t(Math.random()*window.innerWidth,Math.random()*window.innerHeight);document.getElementById("cnvszelf").appendChild(e.el)})}function t(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("note"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}function n(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("image"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}function s(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("video"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}e("./WhiteboardHandler");return t.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},t.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},t.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},n.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},n.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},n.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},s.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},s.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},s.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},o}()},{"./WhiteboardHandler":3}],3:[function(e,o){o.exports=function(){function e(){$form=$("<form method='post' action='' style='left:200px;top:200px;></form>"),$form.append("<textarea rows='4' cols='50' maxlength='259'></textarea>"),$form.on("mousedown",mouseDownHandler).bind(this),$(".canvaszelf").append($form)}return e.prototype.mouseDownHandler=function(){},e.prototype.mouseMoveHandler=function(){},e.prototype.mouseUpHandler=function(){},e}()},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvc2NyaXB0LmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZEFwcGxpY2F0aW9uLmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZEhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxrQkFBQSxVQUFBLE9BQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLHVCQUFBLEVBQUEsSUFBQSxNQUFBLEdBQUEsS0FBQSxtQkFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsV0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxrQkFBQSxVQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsU0FBQSxJQ0FBLFdBSUEsUUFBQSxLQUVBLEdBQUEsR0FKQSxHQUFBLEdBQUEsRUFBQSxrQ0FPQSxpRUNUQSxFQUFBLFFBQUEsV0FLQSxRQUFBLEtBRUEsRUFBQSxXQUFBLEdBQUEsUUFBQSxXQUNBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsS0FBQSxTQUFBLE9BQUEsV0FDQSxLQUFBLFNBQUEsT0FBQSxZQUVBLFVBQUEsZUFBQSxZQUFBLFlBQUEsRUFBQSxNQUVBLEVBQUEsYUFBQSxHQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEtBQUEsU0FBQSxPQUFBLFdBQ0EsS0FBQSxTQUFBLE9BQUEsWUFFQSxVQUFBLGVBQUEsWUFBQSxZQUFBLEVBQUEsTUFHQSxFQUFBLFlBQUEsR0FBQSxRQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FDQSxLQUFBLFNBQUEsT0FBQSxXQUNBLEtBQUEsU0FBQSxPQUFBLFlBRUEsVUFBQSxlQUFBLFlBQUEsWUFBQSxFQUFBLE1BS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxHQUFBLFNBQUEsY0FBQSxPQUNBLEtBQUEsR0FBQSxVQUFBLElBQUEsUUFDQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsaUJBQUEsWUFBQSxLQUFBLGlCQUFBLEtBQUEsT0FpQ0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxHQUFBLFNBQUEsY0FBQSxPQUNBLEtBQUEsR0FBQSxVQUFBLElBQUEsU0FDQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsaUJBQUEsWUFBQSxLQUFBLGlCQUFBLEtBQUEsT0ErQkEsUUFBQSxHQUFBLEVBQUEsR0FDQSxRQUFBLElBQUEscUJBQ0EsS0FBQSxHQUFBLFNBQUEsY0FBQSxPQUNBLEtBQUEsR0FBQSxVQUFBLElBQUEsU0FDQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsS0FDQSxLQUFBLEdBQUEsaUJBQUEsWUFBQSxLQUFBLGlCQUFBLEtBQUEsT0FoSEEsRUFBQSxzQkErSUEsT0F4R0EsR0FBQSxVQUFBLGlCQUFBLFNBQUEsR0FFQSxRQUFBLElBQUEsR0FFQSxLQUFBLFFBQUEsRUFBQSxRQUNBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxrQkFBQSxLQUFBLGlCQUFBLEtBQUEsTUFDQSxLQUFBLGdCQUFBLEtBQUEsZUFBQSxLQUFBLE1BQ0EsT0FBQSxpQkFBQSxZQUFBLEtBQUEsbUJBQ0EsT0FBQSxpQkFBQSxVQUFBLEtBQUEsaUJBQ0EsS0FBQSxHQUFBLE1BQUEsT0FBQSxLQUlBLEVBQUEsVUFBQSxlQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsV0FDQSxRQUFBLElBQUEsR0FDQSxPQUFBLG9CQUFBLFlBQUEsS0FBQSxtQkFDQSxPQUFBLG9CQUFBLFVBQUEsS0FBQSxpQkFDQSxLQUFBLEdBQUEsTUFBQSxPQUFBLEdBR0EsRUFBQSxVQUFBLGlCQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsTUFDQSxRQUFBLElBQUEsR0FDQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsS0FDQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsTUFhQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUVBLFFBQUEsSUFBQSxHQUVBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxRQUFBLEVBQUEsUUFDQSxLQUFBLGtCQUFBLEtBQUEsaUJBQUEsS0FBQSxNQUNBLEtBQUEsZ0JBQUEsS0FBQSxlQUFBLEtBQUEsTUFDQSxPQUFBLGlCQUFBLFlBQUEsS0FBQSxtQkFDQSxPQUFBLGlCQUFBLFVBQUEsS0FBQSxpQkFDQSxLQUFBLEdBQUEsTUFBQSxPQUFBLEtBR0EsRUFBQSxVQUFBLGVBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxXQUNBLFFBQUEsSUFBQSxHQUNBLE9BQUEsb0JBQUEsWUFBQSxLQUFBLG1CQUNBLE9BQUEsb0JBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEsR0FBQSxNQUFBLE9BQUEsR0FHQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxNQUNBLFFBQUEsSUFBQSxHQUNBLEtBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxLQUNBLEtBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxNQVlBLEVBQUEsVUFBQSxpQkFBQSxTQUFBLEdBRUEsUUFBQSxJQUFBLEdBRUEsS0FBQSxRQUFBLEVBQUEsUUFDQSxLQUFBLFFBQUEsRUFBQSxRQUNBLEtBQUEsa0JBQUEsS0FBQSxpQkFBQSxLQUFBLE1BQ0EsS0FBQSxnQkFBQSxLQUFBLGVBQUEsS0FBQSxNQUNBLE9BQUEsaUJBQUEsWUFBQSxLQUFBLG1CQUNBLE9BQUEsaUJBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEsR0FBQSxNQUFBLE9BQUEsS0FHQSxFQUFBLFVBQUEsZUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLFdBQ0EsUUFBQSxJQUFBLEdBQ0EsT0FBQSxvQkFBQSxZQUFBLEtBQUEsbUJBQ0EsT0FBQSxvQkFBQSxVQUFBLEtBQUEsaUJBQ0EsS0FBQSxHQUFBLE1BQUEsT0FBQSxHQUdBLEVBQUEsVUFBQSxpQkFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLE1BQ0EsUUFBQSxJQUFBLEdBQ0EsS0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLEtBQ0EsS0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLE1BR0Esa0RDakpBLEVBQUEsUUFBQSxXQUdBLFFBQUEsS0FFQSxNQUFBLEVBQUEsc0VBQ0EsTUFBQSxPQUFBLDREQUNBLE1BQUEsR0FBQSxZQUFBLGtCQUFBLEtBQUEsTUFDQSxFQUFBLGVBQUEsT0FBQSxPQWlCQSxNQVpBLEdBQUEsVUFBQSxpQkFBQSxhQUlBLEVBQUEsVUFBQSxpQkFBQSxhQUlBLEVBQUEsVUFBQSxlQUFBLGFBSUEiLCJmaWxlIjoic2NyaXB0LmRpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbigpe1xuXHRcblx0dmFyIFdoaXRlYm9hcmRBcHBsaWNhdGlvbiA9IHJlcXVpcmUoXCIuL2NsYXNzZXMvV2hpdGVib2FyZEFwcGxpY2F0aW9uXCIpO1xuXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFxuXHRcdG5ldyBXaGl0ZWJvYXJkQXBwbGljYXRpb24oKTtcblx0fVxuXG5cdGluaXQoKTtcbn0pKCk7IiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24oKXtcblxuXHR2YXIgV2hpdGVib2FyZEhhbmRsZXIgPSByZXF1aXJlKCcuL1doaXRlYm9hcmRIYW5kbGVyJyk7XG5cdHZhciB0ZWxsZXIgPSAwO1xuXG5cdGZ1bmN0aW9uIFdoaXRlYm9hcmRBcHBsaWNhdGlvbigpXHQge1xuXHRcdC8vY2xpY2tldmVudHMgbWFrZW4gdm9vciBkZSBrbm9wcGVuIHZhbiBhZGRlbiBkaW5nZXMuXG5cdFx0JChcIiNhZGRpbWdcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGltYWdlID0gbmV3IEFkZEltYWdlKFxuXHRcdFx0XHRNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVyV2lkdGgsXG5cdFx0XHRcdE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJIZWlnaHRcblx0XHRcdCk7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY252c3plbGYnKS5hcHBlbmRDaGlsZChpbWFnZS5lbCk7XG5cdFx0fSk7XG5cdFx0JChcIiNhZGR2aWRlb1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgdmlkZW8gPSBuZXcgQWRkVmlkZW8oXG5cdFx0XHRcdE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lckhlaWdodFxuXHRcdFx0KTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbnZzemVsZicpLmFwcGVuZENoaWxkKHZpZGVvLmVsKTtcblx0XHR9KTtcblx0XHQvLyQoXCIjYWRkbm90ZVwiKS5vbihcImNsaWNrXCIsIHRoaXMuYWRkTm90ZSk7XG5cdFx0JChcIiNhZGRub3RlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcblx0XHRcdHZhciBub3RlID0gbmV3IEFkZE5vdGUoXG5cdFx0XHRcdE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lckhlaWdodFxuXHRcdFx0KTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbnZzemVsZicpLmFwcGVuZENoaWxkKG5vdGUuZWwpO1xuXHRcdH0pO1xuXHRcdFxuXHR9XG5cblx0ZnVuY3Rpb24gQWRkTm90ZSh4LCB5KXsgXG5cdFx0Y29uc29sZS5sb2coJ2NyZWF0ZWQgbmV3IGJsb2NrJyk7XG5cdFx0dGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgnbm90ZScpO1xuXHRcdHRoaXMuZWwuc3R5bGUubGVmdCA9IHgrXCJweFwiO1xuXHRcdHRoaXMuZWwuc3R5bGUudG9wID0geStcInB4XCI7XG5cdFx0dGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdH1cblx0XG5cdEFkZE5vdGUucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdC8vdGhpcy5lbC5zdHlsZS56SW5kZXggPSAxMDtcblx0XHR0aGlzLm9mZnNldFggPSBldmVudC5vZmZzZXRYO1xuXHRcdHRoaXMub2Zmc2V0WSA9IGV2ZW50Lm9mZnNldFk7XG5cdFx0dGhpcy5fbW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuX21vdXNlVXBIYW5kbGVyID0gdGhpcy5tb3VzZVVwSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcdFxuXHRcdHRoaXMuZWwuc3R5bGUuekluZGV4ID0gMTAwO1x0XG5cblx0fTtcblx0XG5cdEFkZE5vdGUucHJvdG90eXBlLm1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKCdtb3VzZXVwJyk7XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDA7XG5cdH07XG5cdFxuXHRBZGROb3RlLnByb3RvdHlwZS5tb3VzZU1vdmVIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKHRoaXMpO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHR0aGlzLmVsLnN0eWxlLmxlZnQgPSAoZXZlbnQueCAtICh0aGlzLm9mZnNldFgpKSArIFwicHhcIjtcblx0XHR0aGlzLmVsLnN0eWxlLnRvcCA9IChldmVudC55IC0gKHRoaXMub2Zmc2V0WSkpICsgXCJweFwiO1xuXHR9O1xuXG5cblx0ZnVuY3Rpb24gQWRkSW1hZ2UoeCwgeSl7IFxuXHRcdGNvbnNvbGUubG9nKCdjcmVhdGVkIG5ldyBibG9jaycpO1xuXHRcdHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2ltYWdlJyk7XG5cdFx0dGhpcy5lbC5zdHlsZS5sZWZ0ID0geCtcInB4XCI7XG5cdFx0dGhpcy5lbC5zdHlsZS50b3AgPSB5K1wicHhcIjtcblx0XHR0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fVxuXHRcblx0QWRkSW1hZ2UucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdC8vdGhpcy5lbC5zdHlsZS56SW5kZXggPSAxMDtcblx0XHR0aGlzLm9mZnNldFggPSBldmVudC5vZmZzZXRYO1xuXHRcdHRoaXMub2Zmc2V0WSA9IGV2ZW50Lm9mZnNldFk7XG5cdFx0dGhpcy5fbW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuX21vdXNlVXBIYW5kbGVyID0gdGhpcy5tb3VzZVVwSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDEwMDtcdFxuXHR9O1xuXHRcblx0QWRkSW1hZ2UucHJvdG90eXBlLm1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKCdtb3VzZXVwJyk7XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDA7XG5cdH07XG5cdFxuXHRBZGRJbWFnZS5wcm90b3R5cGUubW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRjb25zb2xlLmxvZyh0aGlzKTtcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0dGhpcy5lbC5zdHlsZS5sZWZ0ID0gKGV2ZW50LnggLSAodGhpcy5vZmZzZXRYKSkgKyBcInB4XCI7XG5cdFx0dGhpcy5lbC5zdHlsZS50b3AgPSAoZXZlbnQueSAtICh0aGlzLm9mZnNldFkpKSArIFwicHhcIjtcblx0fTtcblxuXHRmdW5jdGlvbiBBZGRWaWRlbyh4LCB5KXsgXG5cdFx0Y29uc29sZS5sb2coJ2NyZWF0ZWQgbmV3IGJsb2NrJyk7XG5cdFx0dGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRoaXMuZWwuY2xhc3NMaXN0LmFkZCgndmlkZW8nKTtcblx0XHR0aGlzLmVsLnN0eWxlLmxlZnQgPSB4K1wicHhcIjtcblx0XHR0aGlzLmVsLnN0eWxlLnRvcCA9IHkrXCJweFwiO1xuXHRcdHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9XG5cdFxuXHRBZGRWaWRlby5wcm90b3R5cGUubW91c2VEb3duSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0Ly90aGlzLmVsLnN0eWxlLnpJbmRleCA9IDEwO1xuXHRcdHRoaXMub2Zmc2V0WCA9IGV2ZW50Lm9mZnNldFg7XG5cdFx0dGhpcy5vZmZzZXRZID0gZXZlbnQub2Zmc2V0WTtcblx0XHR0aGlzLl9tb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5tb3VzZU1vdmVIYW5kbGVyLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5fbW91c2VVcEhhbmRsZXIgPSB0aGlzLm1vdXNlVXBIYW5kbGVyLmJpbmQodGhpcyk7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUhhbmRsZXIpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VVcEhhbmRsZXIpO1xuXHRcdHRoaXMuZWwuc3R5bGUuekluZGV4ID0gMTAwO1x0XG5cdH07XG5cdFxuXHRBZGRWaWRlby5wcm90b3R5cGUubW91c2VVcEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0Y29uc29sZS5sb2coJ21vdXNldXAnKTtcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUhhbmRsZXIpO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VVcEhhbmRsZXIpO1xuXHRcdHRoaXMuZWwuc3R5bGUuekluZGV4ID0gMDtcblx0fTtcblx0XG5cdEFkZFZpZGVvLnByb3RvdHlwZS5tb3VzZU1vdmVIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKHRoaXMpO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHR0aGlzLmVsLnN0eWxlLmxlZnQgPSAoZXZlbnQueCAtICh0aGlzLm9mZnNldFgpKSArIFwicHhcIjtcblx0XHR0aGlzLmVsLnN0eWxlLnRvcCA9IChldmVudC55IC0gKHRoaXMub2Zmc2V0WSkpICsgXCJweFwiO1xuXHR9O1xuXG5cdHJldHVybiBXaGl0ZWJvYXJkQXBwbGljYXRpb247XG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblxuXHRmdW5jdGlvbiBXaGl0ZWJvYXJkSGFuZGxlcigpIHtcblx0XHQvL2FqYXggY2FsbCB2b29yIGluc2VydGVuIHZhbiBwb3NpdGlvbiBlbiBub3RlZGluZ2Vcblx0XHQkZm9ybSA9ICQoXCI8Zm9ybSBtZXRob2Q9J3Bvc3QnIGFjdGlvbj0nJyBzdHlsZT0nbGVmdDoyMDBweDt0b3A6MjAwcHg7PjwvZm9ybT5cIik7XG5cdFx0JGZvcm0uYXBwZW5kKFwiPHRleHRhcmVhIHJvd3M9JzQnIGNvbHM9JzUwJyBtYXhsZW5ndGg9JzI1OSc+PC90ZXh0YXJlYT5cIik7XG5cdFx0JGZvcm0ub24oXCJtb3VzZWRvd25cIiwgbW91c2VEb3duSGFuZGxlcikuYmluZCh0aGlzKTtcblx0XHQkKFwiLmNhbnZhc3plbGZcIikuYXBwZW5kKCRmb3JtKTtcblxuXHR9XG5cblxuXHRXaGl0ZWJvYXJkSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcblx0XHQvL21vdXNlbW92ZSBlbiBtb3VzZXVwIGFhbiB0b2V2b2VnZW5cblx0fTtcblxuXHRXaGl0ZWJvYXJkSGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcblx0XHQvL2l0ZW0gbW91c2Vwb3NpZXRpZSBsYXRlbiB2b2xnZW5cblx0fTsgXG5cblx0V2hpdGVib2FyZEhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuXHRcdC8vYWpheGNhbGwgdm9vciB1cGRhdGVuIHZhbiBwb3NpdGllc1xuXHR9O1xuXG5cdHJldHVybiBXaGl0ZWJvYXJkSGFuZGxlcjtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9