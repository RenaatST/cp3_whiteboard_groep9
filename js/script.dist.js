!function e(o,t,s){function n(l,r){if(!t[l]){if(!o[l]){var d="function"==typeof require&&require;if(!r&&d)return d(l,!0);if(i)return i(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var a=t[l]={exports:{}};o[l][0].call(a.exports,function(e){var t=o[l][1][e];return n(t?t:e)},a,a.exports,e,o,t,s)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<s.length;l++)n(s[l]);return n}({1:[function(e){!function(){function o(){new t}var t=e("./classes/WhiteboardApplication");o()}()},{"./classes/WhiteboardApplication":2}],2:[function(e,o){o.exports=function(){function o(){}function t(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("note"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}function s(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("image"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}function n(e,o){console.log("created new block"),this.el=document.createElement("div"),this.el.classList.add("video"),this.el.style.left=e+"px",this.el.style.top=o+"px",this.el.addEventListener("mousedown",this.mouseDownHandler.bind(this))}e("./WhiteboardHandler");return t.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},t.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},t.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},s.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},s.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},s.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},n.prototype.mouseDownHandler=function(e){console.log(e),this.offsetX=e.offsetX,this.offsetY=e.offsetY,this._mouseMoveHandler=this.mouseMoveHandler.bind(this),this._mouseUpHandler=this.mouseUpHandler.bind(this),window.addEventListener("mousemove",this._mouseMoveHandler),window.addEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=100},n.prototype.mouseUpHandler=function(e){console.log("mouseup"),console.log(e),window.removeEventListener("mousemove",this._mouseMoveHandler),window.removeEventListener("mouseup",this._mouseUpHandler),this.el.style.zIndex=0},n.prototype.mouseMoveHandler=function(e){console.log(this),console.log(e),this.el.style.left=e.x-this.offsetX+"px",this.el.style.top=e.y-this.offsetY+"px"},o}()},{"./WhiteboardHandler":3}],3:[function(e,o){o.exports=function(){function e(){$form=$("<form method='post' action='' style='left:200px;top:200px;></form>"),$form.append("<textarea rows='4' cols='50' maxlength='259'></textarea>"),$form.on("mousedown",mouseDownHandler).bind(this),$(".canvaszelf").append($form)}return e.prototype.mouseDownHandler=function(){},e.prototype.mouseMoveHandler=function(){},e.prototype.mouseUpHandler=function(){},e}()},{}]},{},[1]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9zcmMvc2NyaXB0LmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZEFwcGxpY2F0aW9uLmpzIiwianMvc3JjL2NsYXNzZXMvV2hpdGVib2FyZEhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxrQkFBQSxVQUFBLE9BQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLHVCQUFBLEVBQUEsSUFBQSxNQUFBLEdBQUEsS0FBQSxtQkFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsV0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxrQkFBQSxVQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsU0FBQSxJQ0FBLFdBSUEsUUFBQSxLQUVBLEdBQUEsR0FKQSxHQUFBLEdBQUEsRUFBQSxrQ0FPQSxpRUNUQSxFQUFBLFFBQUEsV0FLQSxRQUFBLE1BOEJBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsUUFBQSxJQUFBLHFCQUNBLEtBQUEsR0FBQSxTQUFBLGNBQUEsT0FDQSxLQUFBLEdBQUEsVUFBQSxJQUFBLFFBQ0EsS0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLGlCQUFBLFlBQUEsS0FBQSxpQkFBQSxLQUFBLE9BaUNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsUUFBQSxJQUFBLHFCQUNBLEtBQUEsR0FBQSxTQUFBLGNBQUEsT0FDQSxLQUFBLEdBQUEsVUFBQSxJQUFBLFNBQ0EsS0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLGlCQUFBLFlBQUEsS0FBQSxpQkFBQSxLQUFBLE9BK0JBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsUUFBQSxJQUFBLHFCQUNBLEtBQUEsR0FBQSxTQUFBLGNBQUEsT0FDQSxLQUFBLEdBQUEsVUFBQSxJQUFBLFNBQ0EsS0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLGlCQUFBLFlBQUEsS0FBQSxpQkFBQSxLQUFBLE9BbkhBLEVBQUEsc0JBa0pBLE9BeEdBLEdBQUEsVUFBQSxpQkFBQSxTQUFBLEdBRUEsUUFBQSxJQUFBLEdBRUEsS0FBQSxRQUFBLEVBQUEsUUFDQSxLQUFBLFFBQUEsRUFBQSxRQUNBLEtBQUEsa0JBQUEsS0FBQSxpQkFBQSxLQUFBLE1BQ0EsS0FBQSxnQkFBQSxLQUFBLGVBQUEsS0FBQSxNQUNBLE9BQUEsaUJBQUEsWUFBQSxLQUFBLG1CQUNBLE9BQUEsaUJBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEsR0FBQSxNQUFBLE9BQUEsS0FJQSxFQUFBLFVBQUEsZUFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLFdBQ0EsUUFBQSxJQUFBLEdBQ0EsT0FBQSxvQkFBQSxZQUFBLEtBQUEsbUJBQ0EsT0FBQSxvQkFBQSxVQUFBLEtBQUEsaUJBQ0EsS0FBQSxHQUFBLE1BQUEsT0FBQSxHQUdBLEVBQUEsVUFBQSxpQkFBQSxTQUFBLEdBQ0EsUUFBQSxJQUFBLE1BQ0EsUUFBQSxJQUFBLEdBQ0EsS0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLEtBQ0EsS0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLE1BYUEsRUFBQSxVQUFBLGlCQUFBLFNBQUEsR0FFQSxRQUFBLElBQUEsR0FFQSxLQUFBLFFBQUEsRUFBQSxRQUNBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxrQkFBQSxLQUFBLGlCQUFBLEtBQUEsTUFDQSxLQUFBLGdCQUFBLEtBQUEsZUFBQSxLQUFBLE1BQ0EsT0FBQSxpQkFBQSxZQUFBLEtBQUEsbUJBQ0EsT0FBQSxpQkFBQSxVQUFBLEtBQUEsaUJBQ0EsS0FBQSxHQUFBLE1BQUEsT0FBQSxLQUdBLEVBQUEsVUFBQSxlQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsV0FDQSxRQUFBLElBQUEsR0FDQSxPQUFBLG9CQUFBLFlBQUEsS0FBQSxtQkFDQSxPQUFBLG9CQUFBLFVBQUEsS0FBQSxpQkFDQSxLQUFBLEdBQUEsTUFBQSxPQUFBLEdBR0EsRUFBQSxVQUFBLGlCQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsTUFDQSxRQUFBLElBQUEsR0FDQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsS0FDQSxLQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsTUFZQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUVBLFFBQUEsSUFBQSxHQUVBLEtBQUEsUUFBQSxFQUFBLFFBQ0EsS0FBQSxRQUFBLEVBQUEsUUFDQSxLQUFBLGtCQUFBLEtBQUEsaUJBQUEsS0FBQSxNQUNBLEtBQUEsZ0JBQUEsS0FBQSxlQUFBLEtBQUEsTUFDQSxPQUFBLGlCQUFBLFlBQUEsS0FBQSxtQkFDQSxPQUFBLGlCQUFBLFVBQUEsS0FBQSxpQkFDQSxLQUFBLEdBQUEsTUFBQSxPQUFBLEtBR0EsRUFBQSxVQUFBLGVBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxXQUNBLFFBQUEsSUFBQSxHQUNBLE9BQUEsb0JBQUEsWUFBQSxLQUFBLG1CQUNBLE9BQUEsb0JBQUEsVUFBQSxLQUFBLGlCQUNBLEtBQUEsR0FBQSxNQUFBLE9BQUEsR0FHQSxFQUFBLFVBQUEsaUJBQUEsU0FBQSxHQUNBLFFBQUEsSUFBQSxNQUNBLFFBQUEsSUFBQSxHQUNBLEtBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxLQUNBLEtBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxNQUdBLGtEQ3BKQSxFQUFBLFFBQUEsV0FHQSxRQUFBLEtBRUEsTUFBQSxFQUFBLHNFQUNBLE1BQUEsT0FBQSw0REFDQSxNQUFBLEdBQUEsWUFBQSxrQkFBQSxLQUFBLE1BQ0EsRUFBQSxlQUFBLE9BQUEsT0FpQkEsTUFaQSxHQUFBLFVBQUEsaUJBQUEsYUFJQSxFQUFBLFVBQUEsaUJBQUEsYUFJQSxFQUFBLFVBQUEsZUFBQSxhQUlBIiwiZmlsZSI6InNjcmlwdC5kaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24oKXtcblx0XG5cdHZhciBXaGl0ZWJvYXJkQXBwbGljYXRpb24gPSByZXF1aXJlKFwiLi9jbGFzc2VzL1doaXRlYm9hcmRBcHBsaWNhdGlvblwiKTtcblxuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcblx0XHRuZXcgV2hpdGVib2FyZEFwcGxpY2F0aW9uKCk7XG5cdH1cblxuXHRpbml0KCk7XG59KSgpOyIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCl7XG5cblx0dmFyIFdoaXRlYm9hcmRIYW5kbGVyID0gcmVxdWlyZSgnLi9XaGl0ZWJvYXJkSGFuZGxlcicpO1xuXHR2YXIgdGVsbGVyID0gMDtcblxuXHRmdW5jdGlvbiBXaGl0ZWJvYXJkQXBwbGljYXRpb24oKVx0IHtcblxuXHRcdFxuXHRcdFxuXHRcdC8qLy9jbGlja2V2ZW50cyBtYWtlbiB2b29yIGRlIGtub3BwZW4gdmFuIGFkZGVuIGRpbmdlcy5cblx0XHQkKFwiI2FkZGltZ1wiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgaW1hZ2UgPSBuZXcgQWRkSW1hZ2UoXG5cdFx0XHRcdE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lckhlaWdodFxuXHRcdFx0KTtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbnZzemVsZicpLmFwcGVuZENoaWxkKGltYWdlLmVsKTtcblx0XHR9KTtcblx0XHQkKFwiI2FkZHZpZGVvXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcblx0XHRcdHZhciB2aWRlbyA9IG5ldyBBZGRWaWRlbyhcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoLFxuXHRcdFx0XHRNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVySGVpZ2h0XG5cdFx0XHQpO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NudnN6ZWxmJykuYXBwZW5kQ2hpbGQodmlkZW8uZWwpO1xuXHRcdH0pO1xuXHRcdC8vJChcIiNhZGRub3RlXCIpLm9uKFwiY2xpY2tcIiwgdGhpcy5hZGROb3RlKTtcblx0XHQkKFwiI2FkZG5vdGVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG5vdGUgPSBuZXcgQWRkTm90ZShcblx0XHRcdFx0TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoLFxuXHRcdFx0XHRNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVySGVpZ2h0XG5cdFx0XHQpO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NudnN6ZWxmJykuYXBwZW5kQ2hpbGQobm90ZS5lbCk7XG5cdFx0fSk7Ki9cblx0XHRcblx0fVxuXG5cdGZ1bmN0aW9uIEFkZE5vdGUoeCwgeSl7IFxuXHRcdGNvbnNvbGUubG9nKCdjcmVhdGVkIG5ldyBibG9jaycpO1xuXHRcdHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ25vdGUnKTtcblx0XHR0aGlzLmVsLnN0eWxlLmxlZnQgPSB4K1wicHhcIjtcblx0XHR0aGlzLmVsLnN0eWxlLnRvcCA9IHkrXCJweFwiO1xuXHRcdHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLmJpbmQodGhpcykpO1xuXHR9XG5cdFxuXHRBZGROb3RlLnByb3RvdHlwZS5tb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFxuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHQvL3RoaXMuZWwuc3R5bGUuekluZGV4ID0gMTA7XG5cdFx0dGhpcy5vZmZzZXRYID0gZXZlbnQub2Zmc2V0WDtcblx0XHR0aGlzLm9mZnNldFkgPSBldmVudC5vZmZzZXRZO1xuXHRcdHRoaXMuX21vdXNlTW92ZUhhbmRsZXIgPSB0aGlzLm1vdXNlTW92ZUhhbmRsZXIuYmluZCh0aGlzKTtcblx0XHR0aGlzLl9tb3VzZVVwSGFuZGxlciA9IHRoaXMubW91c2VVcEhhbmRsZXIuYmluZCh0aGlzKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW91c2VNb3ZlSGFuZGxlcik7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZVVwSGFuZGxlcik7XHRcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDEwMDtcdFxuXG5cdH07XG5cdFxuXHRBZGROb3RlLnByb3RvdHlwZS5tb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRjb25zb2xlLmxvZygnbW91c2V1cCcpO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW91c2VNb3ZlSGFuZGxlcik7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZVVwSGFuZGxlcik7XG5cdFx0dGhpcy5lbC5zdHlsZS56SW5kZXggPSAwO1xuXHR9O1xuXHRcblx0QWRkTm90ZS5wcm90b3R5cGUubW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRjb25zb2xlLmxvZyh0aGlzKTtcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0dGhpcy5lbC5zdHlsZS5sZWZ0ID0gKGV2ZW50LnggLSAodGhpcy5vZmZzZXRYKSkgKyBcInB4XCI7XG5cdFx0dGhpcy5lbC5zdHlsZS50b3AgPSAoZXZlbnQueSAtICh0aGlzLm9mZnNldFkpKSArIFwicHhcIjtcblx0fTtcblxuXG5cdGZ1bmN0aW9uIEFkZEltYWdlKHgsIHkpeyBcblx0XHRjb25zb2xlLmxvZygnY3JlYXRlZCBuZXcgYmxvY2snKTtcblx0XHR0aGlzLmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdpbWFnZScpO1xuXHRcdHRoaXMuZWwuc3R5bGUubGVmdCA9IHgrXCJweFwiO1xuXHRcdHRoaXMuZWwuc3R5bGUudG9wID0geStcInB4XCI7XG5cdFx0dGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIuYmluZCh0aGlzKSk7XG5cdH1cblx0XG5cdEFkZEltYWdlLnByb3RvdHlwZS5tb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdFxuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHQvL3RoaXMuZWwuc3R5bGUuekluZGV4ID0gMTA7XG5cdFx0dGhpcy5vZmZzZXRYID0gZXZlbnQub2Zmc2V0WDtcblx0XHR0aGlzLm9mZnNldFkgPSBldmVudC5vZmZzZXRZO1xuXHRcdHRoaXMuX21vdXNlTW92ZUhhbmRsZXIgPSB0aGlzLm1vdXNlTW92ZUhhbmRsZXIuYmluZCh0aGlzKTtcblx0XHR0aGlzLl9tb3VzZVVwSGFuZGxlciA9IHRoaXMubW91c2VVcEhhbmRsZXIuYmluZCh0aGlzKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW91c2VNb3ZlSGFuZGxlcik7XG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZVVwSGFuZGxlcik7XG5cdFx0dGhpcy5lbC5zdHlsZS56SW5kZXggPSAxMDA7XHRcblx0fTtcblx0XG5cdEFkZEltYWdlLnByb3RvdHlwZS5tb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRjb25zb2xlLmxvZygnbW91c2V1cCcpO1xuXHRcdGNvbnNvbGUubG9nKGV2ZW50KTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW91c2VNb3ZlSGFuZGxlcik7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZVVwSGFuZGxlcik7XG5cdFx0dGhpcy5lbC5zdHlsZS56SW5kZXggPSAwO1xuXHR9O1xuXHRcblx0QWRkSW1hZ2UucHJvdG90eXBlLm1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0Y29uc29sZS5sb2codGhpcyk7XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdHRoaXMuZWwuc3R5bGUubGVmdCA9IChldmVudC54IC0gKHRoaXMub2Zmc2V0WCkpICsgXCJweFwiO1xuXHRcdHRoaXMuZWwuc3R5bGUudG9wID0gKGV2ZW50LnkgLSAodGhpcy5vZmZzZXRZKSkgKyBcInB4XCI7XG5cdH07XG5cblx0ZnVuY3Rpb24gQWRkVmlkZW8oeCwgeSl7IFxuXHRcdGNvbnNvbGUubG9nKCdjcmVhdGVkIG5ldyBibG9jaycpO1xuXHRcdHRoaXMuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvJyk7XG5cdFx0dGhpcy5lbC5zdHlsZS5sZWZ0ID0geCtcInB4XCI7XG5cdFx0dGhpcy5lbC5zdHlsZS50b3AgPSB5K1wicHhcIjtcblx0XHR0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duSGFuZGxlci5iaW5kKHRoaXMpKTtcblx0fVxuXHRcblx0QWRkVmlkZW8ucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbihldmVudCl7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdC8vdGhpcy5lbC5zdHlsZS56SW5kZXggPSAxMDtcblx0XHR0aGlzLm9mZnNldFggPSBldmVudC5vZmZzZXRYO1xuXHRcdHRoaXMub2Zmc2V0WSA9IGV2ZW50Lm9mZnNldFk7XG5cdFx0dGhpcy5fbW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuX21vdXNlVXBIYW5kbGVyID0gdGhpcy5tb3VzZVVwSGFuZGxlci5iaW5kKHRoaXMpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDEwMDtcdFxuXHR9O1xuXHRcblx0QWRkVmlkZW8ucHJvdG90eXBlLm1vdXNlVXBIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpe1xuXHRcdGNvbnNvbGUubG9nKCdtb3VzZXVwJyk7XG5cdFx0Y29uc29sZS5sb2coZXZlbnQpO1xuXHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBIYW5kbGVyKTtcblx0XHR0aGlzLmVsLnN0eWxlLnpJbmRleCA9IDA7XG5cdH07XG5cdFxuXHRBZGRWaWRlby5wcm90b3R5cGUubW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KXtcblx0XHRjb25zb2xlLmxvZyh0aGlzKTtcblx0XHRjb25zb2xlLmxvZyhldmVudCk7XG5cdFx0dGhpcy5lbC5zdHlsZS5sZWZ0ID0gKGV2ZW50LnggLSAodGhpcy5vZmZzZXRYKSkgKyBcInB4XCI7XG5cdFx0dGhpcy5lbC5zdHlsZS50b3AgPSAoZXZlbnQueSAtICh0aGlzLm9mZnNldFkpKSArIFwicHhcIjtcblx0fTtcblxuXHRyZXR1cm4gV2hpdGVib2FyZEFwcGxpY2F0aW9uO1xufSkoKTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpe1xuXG5cblx0ZnVuY3Rpb24gV2hpdGVib2FyZEhhbmRsZXIoKSB7XG5cdFx0Ly9hamF4IGNhbGwgdm9vciBpbnNlcnRlbiB2YW4gcG9zaXRpb24gZW4gbm90ZWRpbmdlXG5cdFx0JGZvcm0gPSAkKFwiPGZvcm0gbWV0aG9kPSdwb3N0JyBhY3Rpb249Jycgc3R5bGU9J2xlZnQ6MjAwcHg7dG9wOjIwMHB4Oz48L2Zvcm0+XCIpO1xuXHRcdCRmb3JtLmFwcGVuZChcIjx0ZXh0YXJlYSByb3dzPSc0JyBjb2xzPSc1MCcgbWF4bGVuZ3RoPScyNTknPjwvdGV4dGFyZWE+XCIpO1xuXHRcdCRmb3JtLm9uKFwibW91c2Vkb3duXCIsIG1vdXNlRG93bkhhbmRsZXIpLmJpbmQodGhpcyk7XG5cdFx0JChcIi5jYW52YXN6ZWxmXCIpLmFwcGVuZCgkZm9ybSk7XG5cblx0fVxuXG5cblx0V2hpdGVib2FyZEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG5cdFx0Ly9tb3VzZW1vdmUgZW4gbW91c2V1cCBhYW4gdG9ldm9lZ2VuXG5cdH07XG5cblx0V2hpdGVib2FyZEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG5cdFx0Ly9pdGVtIG1vdXNlcG9zaWV0aWUgbGF0ZW4gdm9sZ2VuXG5cdH07IFxuXG5cdFdoaXRlYm9hcmRIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcblx0XHQvL2FqYXhjYWxsIHZvb3IgdXBkYXRlbiB2YW4gcG9zaXRpZXNcblx0fTtcblxuXHRyZXR1cm4gV2hpdGVib2FyZEhhbmRsZXI7XG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==